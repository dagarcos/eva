<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="user-scalable=no,initial-scale=1, 
maximum-scale=1,minimum-scale=1, width=device-width" />
        <title>PhoneGap App</title>
 		<script src="vendor/jquery.min.js"></script>
        <script type="text/javascript" src="phonegap.js"></script>
    </head>
    <body>
    		<input type="text" placeholder="file name" id="my_name" />
        	<input type="text" id="my_text" />
        	<input type="button" id="saveFile_btn"
               value="Save" />
        	<div id="message"></div>
        	<div id="contents"></div>
    </body>
    <script>
    $('#saveFile_btn').on('click', function() {
        saveFileContent();
    });
    
    function saveFileContent(){
        window.resolveLocalFileSystemURL(cordova.file.dataDirectory, function(dir){dir.getFile(document.getElementById('my_name').value, { create: true, exclusive: false }, fileEntry)}, fail);
    }
    
    function fail(evt, where){
        console.log("Error resolving "+ where + " :");
        console.log(JSON.stringify(evt));
    }
    
    function success(e){
    	console.log('success '+e);
    }
    
    function writeFile(writer){
    	console.log('writer');
        writer.onwriteend = function(evt) {
     	   console.log('created');
            alert("File successfully created!");
        };
        writer.write(document.getElementById('my_text').value);
    }
    
    function fileEntry(f){
        f.createWriter(writeFile, fail);
    }
    
    </script>
</html>